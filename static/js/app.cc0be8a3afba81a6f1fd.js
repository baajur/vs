webpackJsonp([1],{BQtO:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),o=i("u2KI"),r=i.n(o),s=i("//Fk"),a=i.n(s),u=0;var h=i("puH/")({});function c(t,e,n,o){if(t=t&&t.trim()){t=t.toLocaleLowerCase();var r=e.indexOf("...");if(r<0)throw new Error('Query pattern is missing "..."');var s=e.indexOf("[query]");if(s<0)throw new Error('Query pattern is missing "[query]" keyword');if(r<s)throw new Error("[query] should come before ...");var c=!1,d=void 0,l=i("T/ob")();l.maxDepth=n;var f=[],p=300+100*Math.random();return o.startDownload(),l.addNode(t,{depth:0}),g(t),{dispose:function(){c=!0,d&&(d.cancel(),d=null)},graph:l}}function v(){if(!c)if(0!==f.length){var t=f.shift();g(t),o.updateLayout(f.length,t)}else h.fire("graph-ready",l)}function g(t){(d=function(t){return function(t){var e=void 0,i=void 0,n=null,o="callback"+u++;window[o]=function(t){e?s():(i(t),s())};var r=new a.a(function(e,r){i=e,(n=document.createElement("script")).src=t+"&callback="+o,n.onerror=r,document.head.appendChild(n)});return r.cancel=function(){e=!0},r;function s(){n&&(document.head.removeChild(n),n=null),delete window[o]}}("https://suggestqueries.google.com/complete/search?client=firefox&q="+encodeURIComponent(t))}(y(t))).then(function(e){return function(t,e){if(!(t.length>=2))throw console.error(t),new Error("Unexpected response");!function(t,e){var i=y(t).toLocaleLowerCase(),o=l.getNode(t);if(!o)throw new Error("Parent is missing for "+t);e.filter(function(t){return 0===t.toLocaleLowerCase().indexOf(i)}).map(function(t){return t.substring(i.length)}).forEach(function(e){var i=l.hasNode(e),r=l.getLink(e,t)||l.getLink(t,e);if(i)r||l.addLink(t,e);else{var s=o.data.depth+1;l.addNode(e,{depth:s}),l.addLink(t,e),s<n&&f.push(e)}}),setTimeout(v,p)}(e,t[1])}(e,t)}).catch(function(e){var i="Failed to download "+t+"; Message: "+e;console.error(i),o.downloadError(i),v()})}function y(t){return e.replace("[query]",t).replace("...","")}}var d=i("Zrlr"),l=i.n(d),f=i("wxAW"),p=i.n(f),v=function(){function t(){l()(this,t),this.message="",this.phase="none",this.download={errors:[],remaining:0,currentWord:""},this.layout={iteration:0},this.working=!0}return p()(t,[{key:"startDownload",value:function(){this.phase="download"}},{key:"startLayout",value:function(){this.message="Finished download. Constructing layout...",this.phase="layout"}},{key:"setLayoutCompletion",value:function(t){"layout"===this.phase&&(this.message="Finished download. Constructing layout "+t+"%...")}},{key:"updateLayout",value:function(t,e){this.download.currentWord=e,this.download.remaining=t,this.message="Remaining: "+t+". Downloading "+e}},{key:"done",value:function(){this.working=!1}},{key:"downloadError",value:function(t){this.download.errors.push(t)}},{key:"reset",value:function(){this.phase="none",this.download.errors=[],this.download.remaining=0,this.download.currentWord="",this.layout.iteration=0,this.message="",this.working=!0}}]),t}(),g=i("3zJd")({query:""},{useSearch:!0}),y=void 0,m=g.get(),w={hasGraph:!1,maxDepth:m.maxDepth||2,progress:new v,graph:null,query:m.query,pattern:m.pattern||"[query] vs ..."};w.query&&k(w.query);var x=w;function k(t){return w.hasGraph=!0,w.progress.reset(),g.set("query",t),y&&y.dispose(),y=c(t,w.pattern,w.maxDepth,w.progress),w.graph=r()(y.graph),y.graph}function b(t,e){return w.pattern.replace("[query]",t).replace("...",e)}g.onChange(function(t){w.query=t.query});var _=i("ifoU"),C=i.n(_),q=i("yBIK"),E=i.n(q),L=i("OvRC"),N=i.n(L),D="http://www.w3.org/2000/svg",P="http://www.w3.org/XML/1998/namespace";function M(t,e){"useFastTextMeasure"in(e=e||{})||(e.useFastTextMeasure=!1);var i={},n=N()(null),o="abcdefghijklmnopqrstuvwxyz",r={},s={1:.4951923076923077,.875:.43509615384615385,.833:.41346153846153844,.75:.3701923076923077,.5:.24459134615384615};return function(a,u){u<1&&(u=Math.round(1e3*u)/1e3);var h=a+u,c=i[h];if(c)return c;var d={};i[h]=d;var l=window.document.createElementNS(D,"text");return l.setAttributeNS(null,"font-size",u),l.setAttributeNS(P,"xml:space","preserve"),t.appendChild(l),d.words=a.split(/\s/).map(function(t){return{text:t,width:function(t){return e.useFastTextMeasure?function(t){var e=r[u];if(!e){l.textContent=o;var i=S(l);0==(e=i/o.length)&&(e=s[u]),r[u]=e}return e*t.length}(t):function(t){var e=t+u,i=n[e];if(void 0===i){if(l.textContent=t,0===(i=S(l))&&t.length>0){var o=s[u];if(void 0===o)throw new Error("Font size is not overriden for safari "+u);i=o*t.length}n[e]=i}return i}(t)}(t)}}),d.spaceWidth=(f="space"+u,p=r[f],p||(l.textContent=" ",p=S(l),r[f]=p),p),d.totalWidth=function(t,e){var i=0;return t.forEach(function(t){i+=t.width}),i+=(t.length-1)*e}(d.words,d.spaceWidth),t.removeChild(l),d;var f,p}}function S(t){return t.getBBox().width}var T=function(){function t(e,i){l()(this,t),this.x=e,this.y=i}return p()(t,[{key:"normalize",value:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);0===t&&(t=1e-4),this.x/=t,this.y/=t}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"add",value:function(t){this.x+=t.x,this.y+=t.y}},{key:"sub",value:function(t){this.x-=t.x,this.y-=t.y}},{key:"div",value:function(t){this.x/=t,this.y/=t}},{key:"mult",value:function(t){this.x*=t,this.y*=t}},{key:"limit",value:function(t){var e=this.mag();e>t&&(this.x*=t/e,this.y*=t/e)}},{key:"distanceTo",value:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}}],[{key:"sub",value:function(e,i){return new t(e.x-i.x,e.y-i.y)}},{key:"dist",value:function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}}]),t}(),F=i("Tz9f")(45),I=function(){function t(e){l()(this,t),this.graph=e,this.boids=new C.a,this.neighbors=[]}return p()(t,[{key:"run",value:function(){var t=this,e=this.boids;e.forEach(function(i,n){var o=[];t.graph.forEachLinkedNode(n,function(t){var i=e.get(t.id);i&&o.push(i)}),i.run(o)})}},{key:"addBoid",value:function(t,e){this.boids.set(t,e),this.neighbors.push(e)}},{key:"setDesiredBoidPosition",value:function(t,e){var i=this.boids.get(t);i&&i.setDesiredPosition(e.x,e.y)}}]),t}(),R=function(){function t(e,i){l()(this,t),this.acceleration=new T(0,0);var n=2*F.nextDouble()*Math.PI;this.velocity=new T(Math.cos(n),Math.sin(n)),this.position=new T(e,i),this.desiredPosition=new T(0,0),this.r=400,this.maxspeed=3,this.maxforce=.08}return p()(t,[{key:"run",value:function(t){this.flock(t),this.update()}},{key:"applyForce",value:function(t,e){t.div(e),this.acceleration.add(t)}},{key:"setDesiredPosition",value:function(t,e){this.desiredPosition.x=t,this.desiredPosition.y=e}},{key:"flock",value:function(t){var e=this.separate(t),i=this.align(t),n=this.cohesion(t),o=t.length||1;this.applyForce(e,o),this.applyForce(i,o),this.applyForce(n,o);var r=T.sub(this.desiredPosition,this.position);r.limit(.091),this.applyForce(r,o)}},{key:"update",value:function(){this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.acceleration.mult(0)}},{key:"seek",value:function(t){var e=T.sub(t,this.position);e.normalize(),e.mult(this.maxspeed);var i=T.sub(e,this.velocity);return i.limit(1*this.maxforce),i}},{key:"separate",value:function(t){var e=this,i=new T(0,0,0),n=0;return t.forEach(function(t){var o=e.position.distanceTo(t.position);if(o>0&&o<40){var r=T.sub(e.position,t.position);r.normalize(),r.div(o),i.add(r),n++}}),n>0&&i.div(n),i.mag()>0&&(i.normalize(),i.mult(this.maxspeed),i.sub(this.velocity),i.limit(this.maxforce)),i}},{key:"align",value:function(t){var e=this,i=new T(0,0),n=0;if(t.forEach(function(t){var o=T.dist(e.position,t.position);o>0&&o<300&&(i.add(t.velocity),n++)}),n>0){i.div(n),i.normalize(),i.mult(this.maxspeed);var o=T.sub(i,this.velocity);return o.limit(this.maxforce),o}return new T(0,0)}},{key:"cohesion",value:function(t){var e=this,i=new T(0,0),n=0;return t.forEach(function(t){var o=T.dist(e.position,t.position);o>0&&o<300&&(i.add(t.position),n++)}),n>0?(i.div(n),this.seek(i)):new T(0,0)}}]),t}(),z=i("Tz9f");var A=i("AMV0"),G=i.n(A),W=i("lHA8"),$=i.n(W),B=i("c/Tr"),V=i.n(B),H=i("bsNR"),O=i.n(H),U=i("TbF0"),Q=i("T/ob"),X=i.n(Q);function J(t,e,i){i.addLink(t,e)}var j=i("T/ob");var Y=function t(e,i){l()(this,t),this.from=e,this.to=i};function K(t,e){var i=[],n=(e=e||{}).canMove||Z,o=e.pullX||!1,r=e.pullY||!1;if(!(t.size<2)){if(2!==t.size){t.forEach(function(t){var e=[t.cx,t.cy];e.id=t.id,i.push(e)});var s=function(t){var e=U.a.from(t).triangles,i=X()();t.forEach(function(t){i.addNode(t.id,t)});for(var n=e.length;n;){var o=t[e[--n]],r=t[e[--n]],s=t[e[--n]];J(o.id,r.id,i),J(r.id,s.id,i),J(s.id,o.id,i)}return i}(i);s.forEachLink(function(t){var e=h(t.fromId),i=h(t.toId),n=function(t,e){if(l(t,e)){var i=function(t,e){var i=t.cx-e.cx,n=t.cy-e.cy;return Math.sqrt(i*i+n*n)}(t,e),n=d(t,e);return-(n-1)*i}return function(t,e){if(l(t,e))return 0;var i=0,n=0;t.right<e.left?i=e.right-t.left:e.right<t.left&&(i=t.left-e.right);t.top<e.bottom?n=e.bottom-t.top:e.top<t.bottom&&(n=t.bottom-e.top);return Math.sqrt(i*i+n*n)}(t,e)}(e,i);t.data=n});var a=O()(s,function(t){return t.data}).map(function(t){return new Y(h(t.fromId),h(t.toId))});return void(a.length>0&&function(t){var e=t.getGraph(),i=new $.a;!function t(n){if(i.has(n))return;i.add(n);var o=h(n);e.forEachLinkedNode(n,function(e){if(!i.has(e.id)){var n=h(e.id);c(o,n),t(e.id)}})}(t.getRootId())}(function(t){var e=j();t.forEach(function(t){e.addLink(t.from.id,t.to.id)});var i=t[0].from.id;return{getGraph:function(){return e},getRootId:function(){return i},get:function(t){return e.gentNode(t)}}}(a)))}var u=V()(t).map(function(t){return t[1]});c(u[0],u[1])}function h(e){return t.get(e)}function c(t,e){if(l(t,e)){var i=d(t,e),o=e.cx-t.cx,r=e.cy-t.cy;G()(i)||(i=1,o=.001,r=-.001),n(e.id)?(e.cx=t.cx+i*o,e.cy=t.cy+i*r):(t.cx=e.cx-i*o,t.cy=e.cy-i*r)}}function d(t,e){var i=Math.abs(t.cx-e.cx),n=Math.abs(t.cy-e.cy),o=(t.width+e.width)/2,r=(t.height+e.height)/2;return Math.min(o/i,r/n)}function l(t,e){return!!o||(t.left>e.right||e.left>t.right?o:!(t.top>e.bottom||e.top>t.bottom)||r)}}function Z(){return!0}var tt=i("woOf"),et=i.n(tt),it=function(){function t(e){if(l()(this,t),et()(this,e),!nt(this.left))throw new Error("Left is wrong");if(!nt(this.top))throw new Error("top is wrong");if(!nt(this.width))throw new Error("width is wrong");if(!nt(this.height))throw new Error("height is wrong")}return p()(t,[{key:"inflate",value:function(t){this.left+=t*this.width/2,this.top+=t*this.height/2,this.width*=t,this.height*=t}},{key:"right",get:function(){return this.left+this.width}},{key:"bottom",get:function(){return this.top+this.height}},{key:"cx",get:function(){return this.left+this.width/2},set:function(t){this.left=t-this.width/2}},{key:"cy",get:function(){return this.top+this.height/2},set:function(t){this.top=t-this.height/2}}]),t}();function nt(t){return!!G()(t)}var ot=i("puH/"),rt=i("a5rm"),st=1,at=2,ut=3,ht=4;function ct(t,e){var i=t.maxDepth,n=rt(t,{springLength:20,springCoeff:.002,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:14,nodeMass:function(e){var n=t.getLinks(e),o=n?n.length:1,r=t.getNode(e);return o*=i-r.data.depth+1,e.length*o}}),o=function(t){var e=new C.a,i=z(42),n=new I(t);return{addNode:o,getNodePosition:function(t){var i=e.get(t);return i||(i=o(t)),i.position},setDesiredNodePosition:function(t,e){n.setDesiredBoidPosition(t,e)},step:function(){n.run()}};function o(t){var o={x:1e3*(i.nextDouble()-.5),y:1e3*(i.nextDouble()-.5)},r=new R(o.x,o.y);return n.addBoid(t,r),e.set(t,r),r}}(t),r=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=0,o=0;return{step:function(){o+=1},getNodePosition:function(r){n=function(t){return t*(2-t)}(o/i);var s=t.getNodePosition(r),a=e.getNodePosition(r);return{x:s.x*(1-n)+a.x*n,y:s.y*(1-n)+a.y*n}},done:function(){return o>i}}}(o,n),s=!1,a=0,u=0,h=2e3,c=2e3,d=st,l=new C.a,f=ot({step:function(){if(!s||a<h){d=st;var i=window.performance.now();o.step();do{n.step(),a+=1}while(window.performance.now()-i<10);(u+=window.performance.now()-i)>c&&(a=h);var l=Math.min(1,Math.max(u/c,a/h));return t.forEachNode(function(t){var e=n.getNodePosition(t.id);o.setDesiredNodePosition(t.id,e)}),e.setLayoutCompletion(Math.round(100*l)),a>=h&&(d=ut),!0}if(d===ut)return K(v=p()),K(v),K(v),v.forEach(function(t,e){n.setNodePosition(e,t.left-t.dx,t.top-t.dy)}),d=at,!0;if(d===at)return r.step(),r.done()&&(d=ht,f.fire("ready",f)),!0;var v;return!1},pinNode:function(t){n.pinNode(t,!0)},getNodePosition:function(t){if(d===st||d===ut)return o.getNodePosition(t);if(d===ht)return n.getNodePosition(t);if(d===at)return r.getNodePosition(t)},addNode:function(t,e){o.addNode(t,e),l.set(t,e)},setGraphReady:function(){a=0,u=0,s=!0},getGraphReady:function(){return s}});return f;function p(){var t=new C.a;return l.forEach(function(e,i){var o=n.getNodePosition(i),r=e.width,s=e.height,a=new it({id:i,left:o.x+e.x,top:o.y+e.y,dx:e.x,dy:e.y,width:r,height:s});t.set(i,a)}),t}}var dt=i("1RWG"),lt=i("Tz9f")(42);var ft=i("1RWG");function pt(t){var e=document.querySelector("#scene"),i=e.querySelector("#nodes"),n=e.querySelector("#edges"),o={isVisible:!1};E()(e).showRectangle({left:-500,right:500,top:-500,bottom:500});var r=new C.a,s=void 0,a=void 0,u=0,c=void 0,d=M(e);return h.on("graph-ready",g),{render:function(e){x(),(s=ct(a=e,t)).on("ready",w),r=new C.a,a.forEachNode(b),a.on("changed",m),cancelAnimationFrame(u),u=requestAnimationFrame(y)},dispose:function(){x(),h.off("graph-ready",g)}};function l(t){var e,i,n,s,a,u,d=t.target&&t.target.id,l=c.getLinkInfo(d);l?(e=l,i=t.clientX,n=t.clientY,s=e.link,a=s.fromId,u=s.toId,h.fire("show-tooltip",{isVisible:!0,from:a,to:u,x:i,y:n}),p(),r.get(a).classList.add("hovered"),r.get(u).classList.add("hovered"),e.ui.classList.add("hovered")):(h.fire("show-tooltip",o),p())}function f(t){var e=t.target&&t.target.id,i=c.getLinkInfo(e);i&&h.fire("show-details",i.link)}function p(){e.querySelectorAll(".hovered").forEach(v)}function v(t){t.classList.remove("hovered")}function g(e){e===a&&(s.setGraphReady(),t.startLayout())}function y(){s.step()&&(u=requestAnimationFrame(y)),r.forEach(function(t,e){var i=_(e);t.attr("transform","translate("+i.x+", "+i.y+")")})}function m(t){t.forEach(function(t){"add"===t.changeType&&t.node&&b(t.node)})}function w(){t.done(),c=function(t,e,i){var n=new C.a,o=new C.a,r=[],s=20,a=t.maxDepth;t.forEachLink(function(t){r.push(t)}),r.sort(function(t,e){return h(t)-h(e)});var u=requestAnimationFrame(function t(){for(;o.size<s&&r.length>0;){var e=r.pop(),i=Math.round(Math.abs(30*lt.gaussian()))+1;o.set(e.id,c(e,i))}o.forEach(function(t,e){t.step(),t.isDone&&o.delete(e)}),(r.length>0||o.size>0)&&(u=requestAnimationFrame(t))});return{getLinkInfo:function(t){return n.get(t)},dispose:function(){u&&(cancelAnimationFrame(u),u=null)}};function h(e){var i=t.getNode(e.fromId).data,n=t.getNode(e.toId).data,o=(i.depth+n.depth)/2;return(a-o)/a}function c(t,o){var r=0,s=e.getNodePosition(t.fromId),a=e.getNodePosition(t.toId),u=h(t),c=8*u+2,d=Math.round(125*(1-u)+75),l={step:function(){var e=function(t){return t*(2-t)}(r/o),u=s.x*(1-e)+a.x*e,h=s.y*(1-e)+a.y*e,f=n.get(t.id),p="M"+s.x+","+s.y+" L"+u+","+h;if(f)f.ui.attr("d",p);else{var v=dt("path",{class:"link-ui",id:t.id,"stroke-width":c,fill:"black",stroke:"rgb("+d+", "+d+", "+d+")",d:p});i.appendChild(v),n.set(t.id,{ui:v,link:t})}(r+=1)>o&&(l.isDone=!0)},isDone:!1};return l}}(a,s,n),document.addEventListener("mousemove",l),e.addEventListener("click",f,!0)}function x(){k(i),k(n),document.removeEventListener("mousemove",l),e.removeEventListener("click",f,!0),s&&s.off("ready",w),a&&a.off("changed",m),c&&c.dispose()}function k(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function b(t){var e=(a.maxDepth-t.data.depth)/a.maxDepth,n=_(t.id);0===t.data.depth&&s.pinNode(t);var o=function(t,e){var i=24*e+12,n=d(t,i),o=n.totalWidth+6*n.spaceWidth,r=1.6*i;return{fontSize:i,width:o,height:r,x:-o/2,y:-r/2,rx:15*e+2,ry:15*e+2,px:-o/2+3*n.spaceWidth,py:-r/2+1.1*i,strokeWidth:4*e+1}}(t.id,e);s.addNode(t.id,o);var u={x:o.x,y:o.y,width:o.width,height:o.height,rx:o.rx,ry:o.ry,fill:"white","stroke-width":o.strokeWidth,stroke:"#58585A"},h={"font-size":o.fontSize,x:o.px,y:o.py},c=ft("rect",u),l=ft("text",h);l.text(t.id);var f=ft("g",{transform:"translate("+n.x+", "+n.y+")"});f.appendChild(c),f.appendChild(l),i.appendChild(f),r.set(t.id,f)}function _(t){return s.getNodePosition(t)}}var vt={mounted:function(){var t=this;this.closeHandler=function(e){27===e.keyCode&&(e.preventDefault(),t.close())},document.addEventListener("keyup",this.closeHandler)},beforeDestroy:function(){document.removeEventListener("keyup",this.closeHandler)},methods:{close:function(){this.$emit("close")}}},gt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("div",{staticClass:"background absolute",on:{click:function(e){return e.preventDefault(),t.close(e)}}}),t._v(" "),i("div",{staticClass:"content"},[i("h3",[t._v("Autocomplete vs Graph "),i("a",{staticClass:"close bold highlight",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("close")])]),t._v(" "),t._m(0),t._v(" "),i("p",[t._v("What if we repeat the same query for every suggestion? We will get a bigger picture:")]),t._v(" "),i("img",{attrs:{src:"https://i.imgur.com/aqzfpBJ.png",alt:"Bigger picture with all searches",width:"300px"}}),t._v(" "),i("p",[t._v("Now let's repeat this process one more time for every found suggestion. But instead of\n      drawing a picture, let's draw a line between each suggestion:")]),t._v(" "),i("img",{attrs:{src:"https://i.imgur.com/OBbEJP7.png",alt:"suggestions graph",width:"300px"}}),t._v(" "),i("p",[t._v("And this is exactly what this website is doing for You.")]),t._v(" "),i("p",[t._v("I found this technique useful to find alternatives, or to perform a market research.\n      Obviously, for this technique to work, Google needs to know enough about your query.\n    ")]),t._v(" "),i("p",[t._v("I hope you like it! Please let me know.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),i("a",{staticClass:"large-close bold highlight",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("\n      close\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n      Have you ever noticed how Google auto-completes your queries? Like so:\n      "),e("img",{attrs:{src:"https://i.imgur.com/Dz0crfG.gif",alt:"google auto complete demo",width:"300px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{staticClass:"highlight",attrs:{href:"https://github.com/anvaka/vs"}},[this._v("Read source code")]),this._v(" of this project on GitHub\n      ")]),e("li",[this._v("\n      Stay tuned for updates on "),e("a",{staticClass:"highlight",attrs:{href:"https://twitter.com/anvaka"}},[this._v("Twitter.")])]),e("li",[e("a",{staticClass:"highlight",attrs:{href:"https://www.patreon.com/anvaka"}},[this._v("Support me on Patreon")]),this._v(" .\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("With passion,"),e("br"),this._v(" Anvaka")])}]};var yt={props:["placeholder","value","pattern"],watch:{value:function(t){this.ensureSuffixPos()}},computed:{patternReminder:function(){return this.pattern.split("[query]")[1]},patternPrefix:function(){return this.pattern.split("[query]")[0]}},methods:{focus:function(){this.$refs.input.focus()},ensureSuffixPos:function(){var t=this.$refs,e=t.suffix,i=t.measure,n=t.prefix;i.innerText=this.value;var o=this.$refs.measure.getBoundingClientRect();i.innerText=this.patternReminder;var r=i.getBoundingClientRect();i.innerText=this.patternPrefix;var s=i.getBoundingClientRect(),a=this.$el.getBoundingClientRect().width-r.width,u=Math.min(s.width+o.width+4,a);0===this.value.length?(e.style.visibility="hidden",n.style.visibility="hidden",this.$refs.input.style.paddingRight="0",this.$refs.input.style.paddingLeft="0"):(e.style.visibility="visible",n.style.visibility="visible",e.style.left=u+"px",n.style.right=s.width+"px",this.$refs.input.style.paddingRight=r.width+"px",this.$refs.input.style.paddingLeft=s.width+"px")}},mounted:function(){this.ensureSuffixPos()}},mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"query-input-container",on:{click:function(e){return e.preventDefault(),t.focus(e)}}},[i("input",{ref:"input",staticClass:"search-input",attrs:{type:"text",placeholder:t.placeholder,autofocus:""},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t._v(" "),i("span",{ref:"prefix",staticClass:"prefix",attrs:{type:"text"}},[t._v(t._s(t.patternPrefix))]),t._v(" "),i("span",{ref:"measure",staticClass:"search-measure"}),t._v(" "),i("span",{ref:"suffix",staticClass:"suffix",attrs:{type:"text"}},[t._v(t._s(t.patternReminder))])])},staticRenderFns:[]};var wt={name:"App",data:function(){return{aboutVisible:!1,appState:x,tooltip:{text:"",x:"",y:""}}},components:{About:i("VU/8")(vt,gt,!1,function(t){i("tXtF")},null,null).exports,QueryInput:i("VU/8")(yt,mt,!1,function(t){i("T8Df")},null,null).exports},computed:{isLoading:function(){return x.progress.working}},methods:{forwardFocus:function(){this.$refs.queryInput.focus()},onSubmit:function(){if(x.query){k(x.query),this.renderer.render(x.graph);var t=document.querySelector(":focus");t&&t.blur()}},showTooltip:function(t){var e=this.$refs.tooltip;t.isVisible?(e.classList.add("visible"),e.innerText=b(t.from,t.to),e.style.left=t.x+16+"px",e.style.top=t.y-16+"px"):e.classList.remove("visible")},showDetails:function(t){var e=b(t.fromId,t.toId);window.open("https://google.com/search?q="+encodeURIComponent(e),"_blank")}},mounted:function(){this.renderer=pt(x.progress),h.on("show-tooltip",this.showTooltip,this),h.on("show-details",this.showDetails,this),x.graph&&this.renderer.render(x.graph)},beforeDestroy:function(){h.off("show-tooltip",this.showTooltip,this),h.off("show-details",this.showDetails,this)}},xt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("form",{staticClass:"search-box",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("span",{on:{click:function(e){return e.preventDefault(),t.forwardFocus(e)}}},[t._v("Graph for")]),t._v(" "),i("query-input",{ref:"queryInput",staticClass:"query-input",attrs:{placeholder:"Enter query",pattern:t.appState.pattern},model:{value:t.appState.query,callback:function(e){t.$set(t.appState,"query",e)},expression:"appState.query"}}),t._v(" "),t.appState.query?i("a",{staticClass:"search-submit",attrs:{type:"submit",href:"#"},on:{click:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._v("Go")]):t._e()],1),t._v(" "),t.isLoading?t._e():i("div",{staticClass:"help"},[t._v("\n    The graph was made from Google's auto-complete.\n    "),i("a",{staticClass:"highlight",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.aboutVisible=!0}}},[t._v("Learn more.")])]),t._v(" "),t.isLoading?i("div",{staticClass:"help"},[t._v(t._s(t.appState.progress.message))]):t._e(),t._v(" "),i("div",{staticClass:"about-line"},[i("a",{staticClass:"about-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.aboutVisible=!0}}},[t._v("about")]),t._v(" "),i("a",{staticClass:"bold",attrs:{href:"http://github.com/anvaka/vs"}},[t._v("source code")])]),t._v(" "),t.aboutVisible?i("about",{on:{close:function(e){t.aboutVisible=!1}}}):t._e(),t._v(" "),t.appState.hasGraph?t._e():i("div",{staticClass:"welcome"},[i("h3",[t._v("Welcome!")]),t._v(" "),i("p",[t._v("This website renders graph of Google's auto-complete.\n    "),i("a",{staticClass:"highlight",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.aboutVisible=!0}}},[t._v("Click here")]),t._v(" to learn more, or "),i("a",{staticClass:"highlight",attrs:{href:"?query=iphone"}},[t._v("try demo")]),t._v(".\n       ")])]),t._v(" "),i("div",{ref:"tooltip",staticClass:"tooltip"},[t._v(t._s(t.tooltip.text))])],1)},staticRenderFns:[]};var kt=i("VU/8")(wt,xt,!1,function(t){i("BQtO")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:kt},template:"<App/>"})},T8Df:function(t,e){},tXtF:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cc0be8a3afba81a6f1fd.js.map